<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="장례 견적 - 모심">
    <title>장례 견적 - 모심</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="estimate.css">
</head>
<body>
    <!-- 데스크톱 헤더 네비게이션 -->
    <header class="main-header">
        <div class="header-container">
            <div class="logo">
                <a href="index.html">모심</a>
            </div>
            <nav class="desktop-nav">
                <a href="estimate.html" class="nav-link active">장례 견적</a>
                <a href="products.html" class="nav-link">상품 안내</a>
                <a href="process.html" class="nav-link">장례 절차</a>
                <a href="reviews.html" class="nav-link">고객 후기</a>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="메뉴 열기">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- 모바일 사이드바 (동일) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <aside class="mobile-sidebar" id="mobileSidebar">
        <div class="sidebar-content">
            <div class="sidebar-section urgent-section">
                <a href="tel:1588-0000" class="emergency-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                    </svg>
                    <span>24시간 고객센터</span>
                </a>
                <a href="login.html" class="auth-link">로그인 / 회원가입</a>
            </div>
            <div class="sidebar-section quick-links">
                <a href="membership.html" class="quick-link-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    <span>100원 상조</span>
                </a>
                <a href="estimate.html" class="quick-link-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                    </svg>
                    <span>장례 견적</span>
                </a>
                <a href="reviews.html" class="quick-link-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                    <span>실제 후기</span>
                </a>
                <a href="urgent.html" class="quick-link-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4"/>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                    </svg>
                    <span>임종 접수</span>
                </a>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item">
                    <a href="my-consult.html" class="nav-link"><span>상담/계약</span></a>
                </div>
                <div class="nav-item">
                    <a href="products.html" class="nav-link"><span>상품 안내</span></a>
                </div>
                <div class="nav-item">
                    <a href="process.html" class="nav-link"><span>장례 절차</span></a>
                </div>
                <div class="nav-item">
                    <a href="articles.html" class="nav-link"><span>읽을거리</span></a>
                </div>
                <div class="nav-item">
                    <a href="about.html" class="nav-link"><span>회사 소개</span></a>
                </div>
                <div class="nav-item split-panel-trigger" data-panel="contact">
                    <button class="nav-link nav-button">
                        <span>고객 문의</span>
                        <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"/>
                        </svg>
                    </button>
                </div>
            </nav>
        </div>
        <div class="split-panel" id="splitPanel">
            <div class="split-panel-header">
                <button class="back-btn" id="splitPanelBack">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"/>
                    </svg>
                </button>
                <h3 id="splitPanelTitle">고객 문의</h3>
            </div>
            <div class="split-panel-content" id="splitPanelContent"></div>
        </div>
    </aside>

    <!-- 메인 콘텐츠 -->
    <main class="main-content estimate-main">
        <div class="estimate-container">
            <!-- 설문 폼 -->
            <div class="estimate-form-wrapper">
                <!-- Step 1: 의도 파악 -->
                <div class="form-step active" id="step1">
                    <h2 class="step-title">지금 가장 걱정되는 부분은 무엇인가요?</h2>
                    
                    <div class="option-cards-vertical">
                        <button class="option-card-full" data-intent="cost">
                            장례에 어느 정도 비용이 드는지 알고 싶어요
                        </button>
                        
                        <button class="option-card-full" data-intent="process">
                            비용도 비용이지만,<br>
                            어떤 것부터 준비해야할지 모르겠어요
                        </button>
                        
                        <button class="option-card-full" data-intent="both">
                            둘 다 알고 싶어요
                        </button>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStepManual()">다음</button>
                    </div>
                </div>

                <!-- Step 2: 상세 정보 (비용 선택 시) -->
                <div class="form-step" id="step2-cost">
                    <div class="step-progress">장례 비용 알아보기</div>
                    <div class="step-progress-dots">
                        <span class="dot"></span>
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                    
                    <h2 class="step-title">어디에서 장례를 치르고자하시나요?</h2>
                    
                    <div class="location-grid">
                        <button class="location-btn" data-location="서울">서울</button>
                        <button class="location-btn" data-location="경기">경기</button>
                        <button class="location-btn" data-location="부산">부산</button>
                        <button class="location-btn" data-location="대구">대구</button>
                        <button class="location-btn" data-location="인천">인천</button>
                        <button class="location-btn" data-location="광주">광주</button>
                        <button class="location-btn" data-location="대전">대전</button>
                        <button class="location-btn" data-location="울산">울산</button>
                        <button class="location-btn" data-location="세종">세종</button>
                        <button class="location-btn" data-location="강원">강원</button>
                        <button class="location-btn" data-location="충북">충북</button>
                        <button class="location-btn" data-location="충남">충남</button>
                        <button class="location-btn" data-location="전북">전북</button>
                        <button class="location-btn" data-location="전남">전남</button>
                        <button class="location-btn" data-location="경북">경북</button>
                        <button class="location-btn" data-location="경남">경남</button>
                        <button class="location-btn" data-location="제주">제주</button>
                    </div>
                    
                    <div class="info-box">
                        고인도 권력 장례 비용부터 지역별 장례 비용 차이, 추천 장례식장 비용을 알려드려요
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStepToDistrict()">다음</button>
                    </div>
                </div>

                <!-- Step 2-1: 세부 지역 선택 -->
                <div class="form-step" id="step2-district">
                    <div class="step-progress">장례 비용 알아보기</div>
                    <div class="step-progress-dots">
                        <span class="dot"></span>
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                    
                    <p class="step-subtitle">비용 정보부터 알려드릴게요.</p>
                    <h2 class="step-title">세부 지역을 선택해주세요</h2>
                    
                    <div class="location-grid">
                        <!-- JavaScript로 동적 생성 -->
                    </div>
                    
                    <div class="info-box">
                        고인도 권력 장례 비용부터 지역별 장례 비용 차이, 추천 장례식장 비용을 알려드려요
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStepManual()">다음</button>
                    </div>
                </div>

                <!-- Step 2-2: 예상 조문객 수 -->
                <div class="form-step" id="step2-attendees">
                    <div class="step-progress">장례 비용 알아보기</div>
                    <div class="step-progress-dots">
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot active"></span>
                        <span class="dot"></span>
                    </div>
                    
                    <h2 class="step-title">예상 조문객 수를<br>선택해주세요</h2>
                    
                    <div class="option-cards-vertical">
                        <button class="option-card-full" data-attendees="0">0명(무빈소)</button>
                        <button class="option-card-full" data-attendees="50">50명 내외</button>
                        <button class="option-card-full" data-attendees="100">100명 내외</button>
                        <button class="option-card-full" data-attendees="200">200명 이상</button>
                        <button class="option-card-full" data-attendees="unknown">모르겠어요</button>
                    </div>
                    
                    <div class="info-box-red">
                        맞춤형 장례 예산 비용부터 <span class="highlight">할인혜택</span>까지 한번에 알아볼 수 있어요.
                        <div class="info-detail">* 실시간 견적 받아보기를 통해 상세비용, 최대 100% 빈소 할인까지 받아볼 수 있습니다.</div>
                    </div>
                    
                    <div class="example-box">
                        <div class="example-title">견적 결과 예시</div>
                        <div class="example-item">
                            <div class="example-label">김OO | 조문객 100명</div>
                            <div class="example-price">[견적완료] 김해진분장례식장 839만원</div>
                        </div>
                        <div class="example-item">
                            <div class="example-label">이OO | 무빈소</div>
                            <div class="example-price">[견적완료] 천안지역 최저가 237만원</div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStepManual()">다음</button>
                    </div>
                </div>

                <!-- Step 2: 상세 정보 (절차 선택 시) -->
                <div class="form-step" id="step2-process">
                    <h2 class="step-title">현재 어느 단계이신가요?</h2>
                    <p class="step-description">상황에 맞는 절차 안내를 제공해드립니다</p>
                    
                    <div class="form-group">
                        <label class="radio-card">
                            <input type="radio" name="process-stage" value="before">
                            <div class="radio-content">
                                <h4>사전 준비</h4>
                                <p>미리 알아보고 준비하고 싶어요</p>
                            </div>
                        </label>
                        
                        <label class="radio-card">
                            <input type="radio" name="process-stage" value="imminent">
                            <div class="radio-content">
                                <h4>임종이 임박했어요</h4>
                                <p>곧 준비해야 할 것 같아요</p>
                            </div>
                        </label>
                        
                        <label class="radio-card">
                            <input type="radio" name="process-stage" value="after">
                            <div class="radio-content">
                                <h4>임종 직후</h4>
                                <p>지금 바로 도움이 필요해요</p>
                            </div>
                        </label>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStep()">다음</button>
                    </div>
                </div>

                <!-- Step 2: 상세 정보 (둘 다 선택 시) -->
                <div class="form-step" id="step2-both">
                    <h2 class="step-title">상황을 알려주세요</h2>
                    <p class="step-description">맞춤 상담을 위한 정보를 입력해주세요</p>
                    
                    <div class="form-group">
                        <label>현재 상황</label>
                        <label class="radio-card">
                            <input type="radio" name="situation" value="planning">
                            <div class="radio-content">
                                <h4>사전 계획 단계</h4>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="situation" value="urgent">
                            <div class="radio-content">
                                <h4>긴급 상황</h4>
                            </div>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>예산 범위</label>
                        <select name="budget" class="form-input">
                            <option value="">선택해주세요</option>
                            <option value="under-300">300만원 이하</option>
                            <option value="300-500">300만원 ~ 500만원</option>
                            <option value="500-800">500만원 ~ 800만원</option>
                            <option value="over-800">800만원 이상</option>
                            <option value="consultation">상담 후 결정</option>
                        </select>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="nextStep()">다음</button>
                    </div>
                </div>

                <!-- Step 2-3: 장례 준비 상황 -->
                <div class="form-step" id="step2-preparation">
                    <div class="step-progress">장례 비용 알아보기</div>
                    <div class="step-progress-dots">
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot active"></span>
                    </div>
                    
                    <h2 class="step-title">장례 준비 상황을<br>자세히 알려주세요</h2>
                    
                    <div class="option-cards-vertical">
                        <button class="option-card-full" data-preparation="already-know">급하지 않지만 미리 알아보려고 해요.</button>
                        <button class="option-card-full" data-preparation="within-week">1주에서 한 달 정도 기간이 남은 것 같아요.</button>
                        <button class="option-card-full" data-preparation="few-days">임종이 며칠 남지 않았어요.</button>
                        <button class="option-card-full" data-preparation="urgent">임종하신 상태입니다.</button>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-outline" onclick="prevStep()">이전</button>
                        <button class="btn btn-primary" onclick="goToContact()">다음</button>
                    </div>
                    
                    <div class="info-box">
                        장례 비용 뿐만 아니라 전반적인 장례 절차, 임종절차, 긴급한 문의가 있으시면 부담없이 전화나 채팅으로 연락주세요.
                    </div>
                    
                    <div class="contact-buttons">
                        <a href="tel:1588-0000" class="contact-btn contact-btn-dark">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                            전화 상담
                        </a>
                        <a href="#" class="contact-btn contact-btn-dark">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            </svg>
                            채팅 상담
                        </a>
                    </div>
                </div>

                <!-- Step 3: 회원가입 -->
                <div class="form-step" id="step3">
                    <button class="modal-close" onclick="closeModal()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/>
                            <line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                    </button>
                    
                    <h2 class="modal-title">막만한 장례,<br>한번에 알아보세요.</h2>
                    <p class="modal-description">장례식장 빈소 할인, 장지 섭외, 맞춤형 견적까지<br>전문 장례지도사가 고객님을 도와드립니다.</p>
                    
                    <div class="service-notice">
                        <strong>카카오톡 없이 서비스를 계속 이용할 수 있어요</strong>
                    </div>
                    
                    <div class="form-group">
                        <input type="text" name="phone" class="form-input" placeholder="핸드폰 번호를 입력해주세요">
                        <div class="phone-notice">010-0000-0000 형태로 입력해주세요</div>
                    </div>
                    
                    <div class="terms-section">
                        <div class="terms-header">서비스 이용약관 및 동의 항목</div>
                        
                        <label class="checkbox-item">
                            <input type="checkbox" id="agreeAll">
                            <span class="checkbox-label">전체 동의하기</span>
                        </label>
                        
                        <label class="checkbox-item">
                            <input type="checkbox" name="terms1" class="term-checkbox" required>
                            <span class="checkbox-label">[필수] 서비스 이용약관</span>
                            <a href="#" class="terms-link">보기</a>
                        </label>
                        
                        <label class="checkbox-item">
                            <input type="checkbox" name="terms2" class="term-checkbox" required>
                            <span class="checkbox-label">[필수] 개인정보 수집, 이용, 제공 동의</span>
                            <a href="#" class="terms-link">보기</a>
                        </label>
                        
                        <label class="checkbox-item">
                            <input type="checkbox" name="terms3" class="term-checkbox" required>
                            <span class="checkbox-label">[필수] 긴급 상황 시 수신 동의(야간)</span>
                            <a href="#" class="terms-link">보기</a>
                        </label>
                    </div>
                    
                    <button class="btn btn-primary btn-full" onclick="submitSignup()">시작하기</button>
                </div>

                <!-- Step 4: 완료 -->
                <div class="form-step" id="step4">
                    <div class="completion-message">
                        <div class="success-icon">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                        </div>
                        <h2>견적 요청이 완료되었습니다</h2>
                        <p>전문 상담사가 24시간 내에 연락드리겠습니다</p>
                        
                        <div class="next-steps">
                            <h3>다음 단계</h3>
                            <ul>
                                <li>✓ 전문 상담사가 고객님의 상황을 검토합니다</li>
                                <li>✓ 맞춤 견적서를 준비합니다</li>
                                <li>✓ 희망하신 시간에 연락드립니다</li>
                                <li>✓ 자세한 상담과 함께 견적을 안내해드립니다</li>
                            </ul>
                        </div>
                        
                        <div class="button-group">
                            <a href="index.html" class="btn btn-outline">홈으로</a>
                            <a href="tel:1588-0000" class="btn btn-primary">긴급 상담 (1588-0000)</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="main.js"></script>
    <script src="estimate.js"></script>
</body>
</html>
